{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 530,
    "height": 430,
    "data": {
      "url": "https://raw.githubusercontent.com/rpra-hul/fit3179-data-vis-2/refs/heads/master/data/monthly_organ_pledges.csv"
    },
    "params": [
        {
            "name": "state_selection",
            "value": "Johor",
            "bind": {
                "input": "select",
                "options": ["Johor", "Kedah", "Kelantan", "Melaka", "Negeri Sembilan", "Pahang", "Perak", "Perlis", "Pulau Pinang", "Sabah", "Sarawak", "Selangor", "Terengganu", "W.P. Kuala Lumpur", "W.P. Labuan", "W.P. Putrajaya"],
                "name": "Select a State: "
            }
        }
    ],
    "transform":[
        {"filter": "datum.state == state_selection"}
    ],
    "config": {
      "view": {
        "strokeWidth": 0,
        "step": 13
      },
      "axis": {
        "domain": false
      }
    },
    "mark": "rect",
    "encoding": {
      "y": {
        "field": "year_month",
        "timeUnit": "month",
        "type": "ordinal",
        "title": "Month"
      },
      "x": {
        "field": "year_month",
        "timeUnit": "year",
        "type": "ordinal",
        "title": "Year"
      },
      "color": {
        "field": "pledges",
        "type": "quantitative",
        "legend": {
          "title": "Pledges"
        }
      },
      "tooltip": [
            {"field": "year_month", "type": "temporal", "title": "Date"},
            {"field": "pledges", "type": "quantitative", "title": "Pledges"}
        ]
    }
}